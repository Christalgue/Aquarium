<html>
  <head>
    <title>Aquarium</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="./data.js"></script> <!-- fichier utilisé pour le chargement des données graphiques -->
    <script>
        $(function() {
            yAxis = []
            for (i = 0; i < MEASURE_SERIES.length; i++) {
                MEASURE_SERIES[i].data.reverse();
                MEASURE_SERIES[i].yAxis = i;
                if (i == 5) { //Même axe pour Luminosité P et S
                    MEASURE_SERIES[i].yAxis = 0;
                }
                
                yAxis.push({
                        labels: {
                            style: {
                                color: Highcharts.getOptions().colors[i]
                            }
                        },
                });
            }
            
            Highcharts.setOptions({
                global: {
                    useUTC: false
                },
                lang: {
                    loading: 'Chargement...',
                    months: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
                    weekdays: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
                    shortMonths: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jui', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc'],
                    thousandsSep: " ",
                    decimalPoint: ','
                }
            });

            var chart = Highcharts.stockChart('container', {
                chart: {
                    type: 'spline',
                    backgroundColor: 'transparent'
                },
                title: {
                    text: '',
                },
                rangeSelector: {
                    selected: 1,
                    buttons: [{ // boutons de sélection de l'intervalle montré sur le graphique
                        type: 'hour',
                        count: 1,
                        text: '1h'
                    }, {
                        type: 'hour',
                        count: 3,
                        text: '3h'
                    }, {
                        type: 'hour',
                        count: 6,
                        text: '6h'
                    }, {
                        type: 'hour',
                        count: 12,
                        text: '12h'
                    }, {
                        type: 'day',
                        count: 1,
                        text: '1d'
                    }, {
                        type: 'day',
                        count: 2,
                        text: '2d'
                    }, {
                        type: 'day',
                        count: 4,
                        text: '4d'
                    }, {
                        type: 'week',
                        count: 1,
                        text: '1w'
                    }, {
                        type: 'month',
                        count: 1,
                        text: '1m'
                    }, {
                        type: 'all',
                        text: 'All'
                    }]
                },
                legend: {
                    enabled: true,
                },
                xAxis: {
                    type: 'datetime',
                    ordinal: false,
                    title: {
                        text: 'Date'
                    }
                },
                yAxis: yAxis,
                plotOptions: {
                    series: {
                        gapSize: 10
                    }
                },
                series: MEASURE_SERIES
            });
        });

    </script>
  </head>
  <body><br>
    <h1>Aquarium - Données récentes</h1>
    <div id="container" style="width:100%; height:85%;"></div>
  </body>
</html>

<style>
body {
	background-image: url("https://image.noelshack.com/fichiers/2017/21/1495613782-fishtry2.png");
}
h1 {
	text-align: center;
	font-family: 'Lucida Calligraphy', Gisha, Georgia, Geneva, sans-serif;
	color: #004d66;
	font-style:  italic;
}
</style>
